## I. Objectif du projet

D√©velopper une application web de gestion des relations partenaires (PRM) pour structurer, suivre et optimiser les contacts professionnels du cabinet Laurent.

L‚Äôoutil doit permettre de :

- Organiser efficacement les partenaires
- Retrouver rapidement les bons contacts selon diff√©rents crit√®res
- Suivre l‚Äôhistorique des recommandations et des mises en relation
- Am√©liorer la qualit√© du r√©seau et la strat√©gie de cross-selling/up-selling

---

## II. Sp√©cificit√©s fonctionnelles du projet

### II.1 Compatibilit√© navigateurs

| Desktop           | Mobile            |
| ----------------- | ----------------- |
| ‚Üí Google Chrome   | ‚Üí Google Chrome   |
| ‚Üí Mozilla Firefox | ‚Üí Mozilla Firefox |
| ‚Üí Microsoft Edge  |                   |

### II.2 R√¥les utilisateurs (futur)

| Fonctionnalit√©                    | Administrateur | Consultant | Collaborateur |
| --------------------------------- | :------------: | :--------: | :-----------: |
| Gestion des partenaires           |       ‚úîÔ∏è       |     üîí     |      üîí       |
| Consultation des partenaires      |       ‚úîÔ∏è       |     ‚úîÔ∏è     |      ‚úîÔ∏è       |
| Cr√©ation/modification partenaires |       ‚úîÔ∏è       |     üîí     |      üîí       |
| Archivage/blacklist partenaires   |       ‚úîÔ∏è       |     üîí     |      üîí       |
| Gestion des classifications       |       ‚úîÔ∏è       |     üîí     |      üîí       |
| Consultation des classifications  |       ‚úîÔ∏è       |     ‚úîÔ∏è     |      ‚úîÔ∏è       |
| Statistiques                      |       ‚úîÔ∏è       |     üîí     |      ‚úîÔ∏è       |
| Notifications                     |       ‚úîÔ∏è       |     ‚úîÔ∏è     |      ‚úîÔ∏è       |
| Scan carte de visite (OCR)        |       ‚úîÔ∏è       |     ‚úîÔ∏è     |      ‚úîÔ∏è       |
| Gestion du profil                 |       ‚úîÔ∏è       |     ‚úîÔ∏è     |      ‚úîÔ∏è       |
| Gestion des utilisateurs          |       ‚úîÔ∏è       |     üîí     |      üîí       |

> ‚úîÔ∏è : Acc√®s complet / üîí : Acc√®s restreint ou non autoris√©

---

## III. Contraintes et exigences fonctionnelles

- Interface web responsive et mobile first adapt√©e √† la consultation et saisie rapide en mobilit√©
- Interface √©pur√©e, professionnelle, avec une navigation intuitive
- Respect des standards d‚Äôaccessibilit√© (contrastes, navigation clavier, textes alternatifs)
- Conformit√© RGPD, chiffrement des donn√©es sensibles, gestion des acc√®s par r√¥les, audit des acc√®s et modifications
- Gestion des acc√®s‚ÄØ: authentification forte (OAuth2 via LinkedIn), gestion des sessions, possibilit√© d‚Äôint√©gration SSO
- Organisation des contacts par m√©tiers, sous-m√©tiers et autres classifications
- Syst√®me de notation des partenaires (1 √† 5 √©toiles), top list et black list
- Historique des recommandations et des mises en relation (clients envoy√©s/re√ßus)
- Notifications en cas de changement d‚Äôentreprise ou de poste (via LinkedIn)
- Protection des champs personnalis√©s lors des synchronisations de champ sp√©cifiques
- Fonctionnalit√© de scan de carte de visite (OCR)
- Application ind√©pendante des autres syst√®mes informatiques du cabinet
- Suivi des √©changes de relations clients entre partenaires
- Prise en compte de la scalabilit√© et de l‚Äô√©volutivit√© de la solution
- Sauvegarde et s√©curisation des acc√®s (ex : recommandation d‚Äôun coffre-fort num√©rique pour les mots de passe)

### III.1. Fonctionnalit√©s principales (MVP)

- Gestion des fiches partenaires : cr√©ation, modification, archivage, classement par cat√©gories et sous-cat√©gories
  - Avocats d‚Äôaffaires, Fiscalistes, Sp√©cialistes en droit du travail, huissier de justice, banques, compagnies d‚Äôaffacturage, assureurs, cabinet de gestion de patrimoire, experts en gestion de paie & RH, cabinet de recrutement, notaire
- Champs principaux : nom, pr√©nom, t√©l√©phone, email, entreprise, m√©tier/sous-cat√©gorie, commentaires, historique de mises en relation, notation (5 √©toiles, blacklist),
- Liens directs t√©l√©phone/email
- Recherche et filtres avanc√©s par m√©tier puis par besoin (nom, pr√©nom, sous-cat√©gorie, relation, notation, blacklist‚Ä¶)
- Syst√®me de tri croissant, d√©croissant des filtres
- Suivi des recommandations (clients envoy√©s/re√ßus)
- Actions rapides : appel, email
- Interface mobile optimis√©e pour la saisie rapide
- S√©curit√© et conformit√© RGPD

### III.2. D√©tails du MVP

| Etapes | Pages                                          | Fonctionnalit√©                                                                                                                                                                                                                       |
| ------ | ---------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 1      | Tableau de bord                                | ‚Üí Acc√®s rapide aux partenaires d‚Äôun m√™me m√©tier<br>‚Üí Cr√©er un nouveau partenaire<br>‚Üí Rechercher un partenaire<br>‚Üí Statistiques √©pur√©es                                                                                             |
| 2      | Inscription                                    | ‚Üí Cr√©er son compte principal<br>‚Üí Liens vers la page de connexion                                                                                                                                                                    |
| 3      | Connexion/D√©connexion                          | ‚Üí Acc√®s s√©curis√© √† ses donn√©es<br>‚Üí R√©cup√©ration de passphrase<br>‚Üí Liens vers la page d‚Äôinscription                                                                                                                                 |
| 4      | Partenaire                                     | ‚Üí Lire, cr√©er, modifier, archiver, blacklister, annoter, noter<br>‚Üí Actions rapides (appel, mailing)<br>‚Üí Lister, cr√©er, modifier, archiver les relations internes                                                                   |
| 5      | Nos partenaires                                | ‚Üí Cr√©er, modifier un partenaire<br>‚Üí Rechercher/lister, tri croissant/d√©croissant, filtrer (m√©tier, sous-m√©tier, partenaire avec son r√©seau interne au cabinet, archive, blacklisting)<br>‚Üí Action group√©e (archivage, blacklisting) |
| 6      | Mon compte                                     | ‚Üí Notifications en temps r√©el (mail, in-app)<br>‚Üí Mode light/dark(d√©faut)/syst√®me<br>‚Üí Pr√©f√©rences tableau partenaires                                                                                                               |
| 7      | Nos classifications (m√©tier, sous-m√©tier, tag) | ‚Üí Cr√©er, Modifier, Archiver une classification/m√©tier/sous-m√©tier                                                                                                                                                                    |
| 8      | Contact                                        | ‚Üí Contacter les d√©veloppeur                                                                                                                                                                                                          |
| 9      | Police de confidentialit√©                      | ‚Üí Consultation <br>‚Üí RGPD                                                                                                                                                                                                            |
| 10     | Sitemap                                        | ‚Üí Accessibilit√© de l‚Äôarchitecture de l‚Äôapplication                                                                                                                                                                                   |
| 11     | Mentions l√©gales                               | ‚Üí Consultation des mentions l√©gales                                                                                                                                                                                                  |

---

### III.3. Fonctionnalit√©s √©volutives (post-MVP)

- Statistiques et analyses graphiques d'une part de valeur ajout√©e pour un groupe de partenaires
  - Historiques des modifications, notations, micro-r√©seaux internes
  - Top/flop/derni√®res notations
  - Plus/moins actifs en interne
  - Plus grand/petit r√©seau interne
- Restriction d‚Äôacc√®s, gestion des droits utilisateurs (admin/consultation/collaboration), choix du r√¥le sur invitation
- IA pour suggestions et traitement des notes
- Remplissage des fiches partenaires via Linkedin, OCR, signatures email (√† terme)
- Notification en cas de changement de poste/entreprise (Api Linkedin)
- Animer l‚Äôapplication avec d√©sactivation (d√©faut) depuis le param√©trage du compte

### III.4. Fonctionnalit√©s non incluses

- Reconnaissance vocale
- Partage de contacts avec d‚Äôautres utilisateurs
- Int√©gration avec d‚Äôautres syst√®mes (emails, API externes)

---

## IV. Architecture technique recommand√©e

### IV.1. Stack technologique

- Architecture MVC (**Model View Controler**) avec ORM

#### IV.1.a. **Frontend ReactJS** :

- Framework : **NextJS** (mobile first)
- Architecture CSR (**Client Side Rendering**)
- UI : Tailwind CSS avec s√©paration du style et du contenu
- Authentification : OAuth2 avec LinkedIn
- Qualit√© du code : **Oxlint** (linter ultra-rapide), **Commitlint** (conventions de commits), Prettier (formatage)

#### IV.1.b. **Backend NodeJS** :

- Framework **AdonisJS**
- Architecture **API REST** priv√©e
- S√©curit√© : Auth0, CORS, ORM, validation des entr√©es, rate limiting, logging, audit OWASP
- Gestion des secrets : stockage s√©curis√© (variables d‚Äôenvironnement, gestionnaire de secrets), rotation r√©guli√®re
- Logs d‚Äôacc√®s et d‚Äôerreur : centralisation, monitoring, alerting (ex : Sentry, Datadog)
- Politique de sauvegarde/restauration : sauvegardes automatiques, tests r√©guliers de restauration, documentation des proc√©dures
- M√©thodologie : TDD (Test Driven Development) avec tests unitaires et d‚Äôint√©gration (Jest, Supertest, ou outils natifs Adonis)

#### IV.1.c. **Base de donn√©es** :

- **PostgreSQL** (relationnelle, robuste, adapt√©e aux besoins de recherche et de structuration)

#### IV.1.d. **APIs externes**

- **OCR** : Int√©gration d‚Äôun service de scan de cartes de visites comme Tesseract.js (open source)
- _Int√©grations externes_ :
  - **API LinkedIn** (pour synchronisation et d√©tection des changements de poste, d'entreprise)
  - **API email** (pour r√©cup√©ration de signatures, √† terme)

### IV.2 H√©bergement & d√©ploiement

- **H√©bergement cloud s√©curis√©** :
  - Vercel (frontend web), Railway (backend)
  - Supabase (base de donn√©es manag√©e)
- **CI/CD** :
  - GitHub Actions pour automatiser les tests, le build et le d√©ploiement
- **Environnement de d√©veloppement** :
  - Conteneurs Docker pour faciliter le d√©veloppement et le d√©ploiement
- **Migrations de base de donn√©es** :
  - AdonisJS Migrations pour g√©rer les √©volutions de la base de donn√©es
- **Sauvegardes et monitoring** :
  - Sauvegardes automatiques de la base de donn√©es ou manuelles dans le cas d'op√©rations sensibles

### IV.3 S√©curit√©

- Chiffrement des donn√©es sensibles (au repos et en transit)
- Authentification forte (OAuth2, gestion des r√¥les)
- Conformit√© RGPD (droit √† l‚Äôoubli, consentement)
- Audit des acc√®s et des modifications
- S√©curisation des API (rate limiting, CORS, validation stricte...)

### IV.4. Plan de mont√©e en charge et scalabilit√©

- R√©alisation de tests de charge r√©guliers (ex‚ÄØ: k6, Artillery) pour valider la tenue en charge de l‚ÄôAPI et du frontend.
- Mise en place d‚Äôun monitoring applicatif (ex‚ÄØ: Datadog, Prometheus, Grafana) avec alerting sur seuils critiques.
- Pr√©voir le scaling horizontal (containers, load balancer) et la documentation des proc√©dures de scaling.
- Documentation des seuils critiques et des plans d‚Äôaction en cas de saturation.

### IV.5. Analyse critique et optimisations de la stack (Performance & √âco-conception)

#### IV.5.1. √âvaluation de la stack actuelle

##### üü¢ Points forts confirm√©s

- **Next.js 15** : App Router, RSC, optimisations natives (9/10)
- **AdonisJS v6** : TypeScript natif, ORM Lucid performant (8/10)
- **PostgreSQL** : Excellent pour recherches complexes (9/10)
- **Vercel/Railway** : Edge computing, scaling automatique (8/10)

##### üî¥ Optimisations critiques recommand√©es

| Probl√®me identifi√©        | Impact             | Solution recommand√©e           | Gain attendu           |
| ------------------------- | ------------------ | ------------------------------ | ---------------------- |
| **CSR uniquement**        | Performance mobile | Hybrid SSR/CSR avec App Router | -40% temps chargement  |
| **Pas de cache strategy** | Latence API        | Redis + ISR Next.js            | -60% requ√™tes DB       |
| **OCR c√¥t√© client**       | Bande passante     | Edge Functions + WebAssembly   | -80% transfert donn√©es |
| **Monitoring absent**     | Debugging prod     | Sentry + Vercel Analytics      | +90% d√©tection erreurs |

#### IV.5.2. Recommandations d'optimisation performance

##### Frontend (Next.js)

```typescript
// next.config.js - Configuration √©co-responsable
const nextConfig = {
  // Optimisation images automatique
  images: {
    formats: ['image/avif', 'image/webp'],
    minimumCacheTTL: 31536000,
  },
  // Compression maximale
  compress: true,
  // Tree shaking agressif
  experimental: {
    optimizePackageImports: ['@heroicons/react', 'lucide-react'],
  },
  // Service Worker pour cache intelligent
  serviceWorker: {
    scope: '/',
    updateViaCache: 'all',
  },
}
```

##### Backend (AdonisJS)

```typescript
// Configuration base de donn√©es optimis√©e
const database = {
  connection: 'pg',
  connections: {
    pg: {
      // Pool de connexions adapt√©
      pool: {
        min: 1, // D√©marrage minimal
        max: 3, // Maximum pour 1 utilisateur
      },
      // Index optimis√©s pour recherche
      searchPath: ['public'],
      // Requ√™tes pr√©par√©es
      useNullAsDefault: false,
    },
  },
}
```

#### IV.5.3. Strat√©gie √©co-conception sp√©cifique

##### Mesures d'impact environnemental

- **Objectif CO2** : < 1g CO2 par page vue (vs 4.6g moyenne web)
- **Metrics cibles** :
  - First Contentful Paint < 1.2s
  - Bundle size < 150kb
  - Images optimis√©es automatiquement
  - Lazy loading syst√©matique

##### Architecture verte recommand√©e

```typescript
// Strat√©gie de cache multi-niveaux
const cacheStrategy = {
  // Browser cache
  'static-assets': '1y',
  'api-responses': '5m',

  // CDN cache (Vercel Edge)
  'partner-list': '1h',
  classifications: '24h',

  // Server cache (Redis/Memory)
  'search-results': '15m',
  'user-session': '30m',
}
```

#### IV.5.4. Alternatives stack √©valu√©es

| Alternative                  | Performance | √âco-conception | Complexit√© | Recommandation          |
| ---------------------------- | ----------- | -------------- | ---------- | ----------------------- |
| **SvelteKit + Lucia**        | 9/10        | 9/10           | 7/10       | ‚ùå Courbe apprentissage |
| **Astro + Node.js**          | 8/10        | 10/10          | 6/10       | ‚ùå Pas assez interactif |
| **Stack actuelle optimis√©e** | 9/10        | 8/10           | 5/10       | ‚úÖ **RECOMMAND√âE**      |

#### IV.5.5. Plan d'impl√©mentation optimis√©e

##### Phase 1 : Optimisations critiques (Semaine 1-2)

- [x] Configuration Next.js hybrid SSR/CSR
- [x] Mise en place Redis pour cache
- [x] Optimisation images et assets
- [x] Service Worker pour cache offline

##### Phase 2 : Monitoring et m√©triques (Semaine 3-4)

- [x] Int√©gration Sentry pour monitoring
- [x] Bundle analyzer et optimisation
- [x] Lighthouse CI dans GitHub Actions
- [x] M√©triques √©co-conception (Website Carbon)

##### Phase 3 : Optimisations avanc√©es (Semaine 5-6)

- [x] Edge Functions pour OCR
- [x] Database connection pooling
- [x] Optimisation requ√™tes SQL
- [x] Compression images WebP/AVIF

#### IV.5.6. Monitoring environnemental

##### M√©triques de suivi recommand√©es

```typescript
// Dashboard √©co-responsabilit√©
const ecoMetrics = {
  carbonFootprint: '< 1g CO2/page',
  energyUsage: '< 0.5kWh/1000 users',
  dataTransfer: '< 2MB/session',
  cacheHitRatio: '> 85%',
  imageOptimization: '> 90% WebP/AVIF',
}
```

##### Outils de monitoring

- **Website Carbon Calculator** : Mesure empreinte carbone
- **Lighthouse CI** : Performance et √©co-conception
- **Bundle Analyzer** : Optimisation du code
- **Vercel Analytics** : Real User Monitoringofessionnels du cabinet Laurent.

### IV.6. Qualit√© du code et versioning

#### IV.6.1. Linting et formatage

- **Oxlint** : Linter ultra-rapide √©crit en Rust, jusqu'√† 50x plus rapide qu'ESLint
  - Configuration stricte TypeScript
  - D√©tection d'erreurs communes React/Next.js
  - Int√©gration native avec les √©diteurs
  - Support des r√®gles ESLint les plus critiques
- **Prettier** : Formatage automatique du code
  - Configuration unifi√©e pour TS/JS/CSS/MD
  - Int√©gration Git hooks pour formatage automatique

#### IV.6.2. Conventions de commits

- **Convention Gitmoji + Conventional Commits**
  - Format : `<emoji> <type>: <description>`
  - Exemples : `‚ú® feat: add partner archiving`, `üêõ fix: correct filter logic`
- **Commitlint** : Validation automatique des messages de commit
  - R√®gles strictes appliqu√©es via Git hooks
  - G√©n√©ration automatique de changelog
  - Int√©gration avec semantic-release pour versioning automatique

#### IV.6.3. Git hooks et workflow

- **Husky** : Gestion des Git hooks
  - `pre-commit` : Oxlint + Prettier sur fichiers modifi√©s
  - `commit-msg` : Validation Commitlint
  - `pre-push` : Tests unitaires et build
- **lint-staged** : Optimisation des hooks sur fichiers modifi√©s uniquement

#### IV.6.4. Int√©gration continue (CI/CD)

- **GitHub Actions** avec v√©rifications automatiques :
  - Oxlint sur l'ensemble du codebase
  - Tests unitaires et E2E
  - Build et d√©ploiement automatique
  - G√©n√©ration de rapports de qualit√©

---

## V. Interface utilisateur

- Design simple, √©pur√©, professionnel, respectant la charte graphique (√† d√©finir en juillet)
- Exp√©rience mobile first optimis√©e pour la saisie rapide

### V.1. Charte graphique

**A definir en juillet 2025**

### V.2. Logo

**A definir en juillet 2025**

### V.3. Gestion UX des notifications d‚Äôerreur

- Les messages d‚Äôerreur doivent √™tre clairs, non techniques, et affich√©s de fa√ßon non intrusive (toast, alert, inline).
- Chaque action utilisateur doit fournir un feedback visuel en cas d‚Äô√©chec (ex‚ÄØ: champ en erreur, message contextuel).
- Les erreurs critiques doivent √™tre logu√©es c√¥t√© backend et une notification adapt√©e doit √™tre affich√©e c√¥t√© frontend.

---

## VI. Contraintes & points d‚Äôattention

- Scalabilit√© et √©volutivit√© de la solution
- S√©curit√© et conformit√© RGPD
- Simplicit√© d‚Äôutilisation et rapidit√© de saisie
- Priorit√© : ne pas perdre de contacts et bien organiser l‚Äôinformation

---

## VIII. Cartographie des routes frontend et backend (optimis√©e)

Cette section pr√©sente la correspondance entre les routes frontend (navigation utilisateur) et backend (API REST), regroup√©es par grandes cat√©gories fonctionnelles du projet. Elle vise √† garantir la coh√©rence, la maintenabilit√© et la clart√© de l‚Äôarchitecture applicative.

### VIII.1. Tableau des routes frontend

| Cat√©gorie             | URL Frontend       | Description / Page principale         |
| --------------------- | ------------------ | ------------------------------------- |
| Authentification      | /login             | Connexion s√©curis√©e (OAuth2)          |
| Tableau de bord       | /dashboard         | Vue d‚Äôensemble, KPIs, notifications   |
| Partenaires (listing) | /partners          | Liste, recherche, filtres partenaires |
| Partenaire (fiche)    | /partners/:id      | D√©tail, historique, actions rapides   |
| Partenaire (cr√©ation) | /partners/new      | Cr√©ation d‚Äôun partenaire              |
| Partenaire (√©dition)  | /partners/:id/edit | Modification d‚Äôun partenaire          |
| Cat√©gories & Tags     | /classifications   | Gestion des classifications (admin)   |
| Utilisateurs          | /users             | Gestion des utilisateurs (admin)      |
| Statistiques          | /stats             | Tableaux de bord, analyses            |
| Notifications         | /notifications     | Liste et d√©tail des notifications     |
| Scan carte de visite  | /scan              | OCR, ajout rapide de contact          |
| Profil utilisateur    | /profile           | Gestion du profil, pr√©f√©rences        |

### VIII.2. Tableau des routes backend

| Cat√©gorie         | Endpoint Backend          | M√©thodes HTTP     | Exemple de code routeur (AdonisJS)                                                                                                                                                                                     |
| ----------------- | ------------------------- | ----------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Auth              | /api/auth/login           | POST              | Route.post('/auth/login', 'AuthController.login')                                                                                                                                                                      |
|                   | /api/auth/logout          | POST              | Route.post('/auth/logout', 'AuthController.logout')                                                                                                                                                                    |
| Utilisateurs      | /api/users                | GET, POST         | Route.get('/users', 'UserController.index')<br>Route.post('/users', 'UserController.store')                                                                                                                            |
|                   | /api/users/:id            | GET, PUT, DELETE  | Route.get('/users/:id', 'UserController.show')<br>Route.put('/users/:id', 'UserController.update')<br>Route.delete('/users/:id', 'UserController.destroy')                                                             |
| Partenaires       | /api/partners             | GET, POST         | Route.get('/partners', 'PartnerController.index')<br>Route.post('/partners', 'PartnerController.store')                                                                                                                |
|                   | /api/partners/:id         | GET, PUT          | Route.get('/partners/:id', 'PartnerController.show')<br>Route.put('/partners/:id', 'PartnerController.update')                                                                                                         |
|                   | /api/partners/:id/archive | PUT               | Route.put('/partners/:id/archive', 'PartnerController.archive')                                                                                                                                                        |
|                   | /api/partners/:id/notes   | POST, PUT, DELETE | Route.post('/partners/:id/notes', 'PartnerController.addNote')<br>Route.put('/partners/:id/notes', 'PartnerController.updateNote')<br>Route.delete('/partners/:id/notes', 'PartnerController.deleteNote')              |
| Cat√©gories & Tags | /api/classifications      | GET, POST         | Route.get('/classifications', 'ClassificationController.index')<br>Route.post('/classifications', 'ClassificationController.store')                                                                                    |
|                   | /api/classifications/:id  | GET, PUT, DELETE  | Route.get('/classifications/:id', 'ClassificationController.show')<br>Route.put('/classifications/:id', 'ClassificationController.update')<br>Route.delete('/classifications/:id', 'ClassificationController.destroy') |
| Statistiques      | /api/stats                | GET               | Route.get('/stats', 'StatsController.index')                                                                                                                                                                           |
| Notifications     | /api/notifications        | GET               | Route.get('/notifications', 'NotificationController.index')                                                                                                                                                            |
|                   | /api/notifications/:id    | PUT               | Route.put('/notifications/:id', 'NotificationController.markAsRead')                                                                                                                                                   |
| OCR/Scan          | /api/scan                 | POST              | Route.post('/scan', 'OcrController.scan')                                                                                                                                                                              |
| LinkedIn Sync     | /api/linkedin/sync        | POST              | Route.post('/linkedin/sync', 'LinkedinController.sync')                                                                                                                                                                |

> Remarque : Par exigence client, la suppression d√©finitive de partenaires n‚Äôest pas autoris√©e. L‚Äôarchivage (d√©sactivation logique) est r√©alis√© via PUT /api/partners/:id/archive.

---

## VIII.3. Gestion des erreurs et codes HTTP pour l‚ÄôAPI

Pour chaque route backend, il est imp√©ratif d‚Äôimpl√©menter une gestion robuste des erreurs avec des codes HTTP adapt√©s et des messages explicites. Voici les recommandations‚ÄØ:

| Endpoint Backend                | M√©thodes HTTP    | Codes d‚Äôerreur √† pr√©voir                                                                                               |
| ------------------------------- | ---------------- | ---------------------------------------------------------------------------------------------------------------------- | ------------- |
| /api/auth/login                 | POST             | 400 (donn√©es invalides), 401 (identifiants incorrects), 403 (compte d√©sactiv√©), 500 (erreur serveur)                   |
| /api/auth/logout                | POST             | 401 (non authentifi√©), 500 (erreur serveur)                                                                            |
| /api/users                      | GET, POST        | 401 (non authentifi√©), 403 (acc√®s refus√©), 400 (donn√©es invalides), 409 (conflit email), 500 (erreur serveur)          |
| /api/users/:id                  | GET, PUT, DELETE | 401 (non authentifi√©), 403 (acc√®s refus√©), 404 (utilisateur non trouv√©), 400 (donn√©es invalides), 500 (erreur serveur) |
| /api/partners                   | GET, POST        | 401, 403, 400, 409 (doublon), 500                                                                                      |
| /api/partners/:id               | GET, PUT         | 401, 403, 404 (partenaire non trouv√©), 400, 409 (conflit d‚Äô√©tat), 500                                                  |
| /api/partners/:id/archive       | PUT              | 401, 403, 404, 409 (d√©j√† archiv√©), 500                                                                                 |
| /api/partners/:id/notes         | POST             | 401, 403, 404 (partenaire non trouv√©), 400 (note invalide), 500                                                        |
| /api/partners/:id/notes/:noteId | PUT, DELETE      | 401, 403, 404 (note non trouv√©e), 400, 500                                                                             |
| /api/classifications            | GET, POST        | 401, 403, 400, 409 (classification existante), 500                                                                     |
| /api/classifications/:id        | GET, PUT, DELETE | 401, 403, 404 (classification non trouv√©e), 400, 500                                                                   |
| Statistiques                    | /api/stats       | GET                                                                                                                    | 401, 403, 500 |
| /api/notifications              | GET              | 401, 403, 500                                                                                                          |
| /api/notifications/:id          | PUT              | 401, 403, 404 (notification non trouv√©e), 500                                                                          |
| /api/scan                       | POST             | 401, 400 (fichier invalide), 422 (format non support√©), 500                                                            |
| /api/linkedin/sync              | POST             | 401, 400, 422 (erreur LinkedIn), 500                                                                                   |

**Exemples de messages d‚Äôerreur √† retourner‚ÄØ:**

- 400‚ÄØ: ¬´‚ÄØDonn√©es invalides‚ÄØ¬ª, ¬´‚ÄØFormat email invalide‚ÄØ¬ª
- 401‚ÄØ: ¬´‚ÄØAuthentification requise‚ÄØ¬ª
- 403‚ÄØ: ¬´‚ÄØAcc√®s refus√©‚ÄØ¬ª
- 404‚ÄØ: ¬´‚ÄØRessource non trouv√©e‚ÄØ¬ª
- 409‚ÄØ: ¬´‚ÄØConflit‚ÄØ: ressource d√©j√† existante ou √©tat incompatible‚ÄØ¬ª
- 422‚ÄØ: ¬´‚ÄØEntit√© non traitable‚ÄØ¬ª
- 500‚ÄØ: ¬´‚ÄØErreur interne du serveur‚ÄØ¬ª

**Recommandations‚ÄØ:**

- Centraliser la gestion des erreurs dans des exceptions personnalis√©es (AdonisJS).
- Documenter chaque route avec les codes d‚Äôerreur possibles et les messages associ√©s.

---

## VIII.4. Documentation API (Swagger / OpenAPI)

L‚ÄôAPI backend doit √™tre document√©e de fa√ßon exhaustive et maintenue √† jour √† l‚Äôaide d‚Äôun standard ouvert‚ÄØ: **Swagger (OpenAPI)**. Cette documentation doit‚ÄØ:

- D√©crire chaque endpoint, ses param√®tres, ses codes de r√©ponse et exemples de payloads (requ√™te et r√©ponse).
- Lister tous les cas d‚Äôerreur possibles pour chaque route.
- Documenter les endpoints de maintenance (statut, healthcheck, etc.).
- √ätre accessible pour les d√©veloppeurs et les parties prenantes (ex‚ÄØ: via Swagger UI).
- √ätre g√©n√©r√©e automatiquement √† partir du code ou maintenue dans le d√©p√¥t backend.

**Exemple de payload (POST /api/partners)**

```json
{
  "first_name": "Jean",
  "last_name": "Dupont",
  "email": "jean.dupont@exemple.com",
  "company": "Cabinet Laurent",
  "classifications": ["Avocat d‚Äôaffaires", "Fiscaliste"]
}
```

**Exemple de r√©ponse (201 Created)**

```json
{
  "id": "uuid",
  "first_name": "Jean",
  "last_name": "Dupont",
  "email": "jean.dupont@exemple.com",
  "company": "Cabinet Laurent",
  "classifications": ["Avocat d‚Äôaffaires", "Fiscaliste"],
  "created_at": "2025-06-16T12:00:00Z"
}
```

---

## IX. Architecture des dossiers frontend et backend

Architecture par feature, mutualisation des √©l√©ments transverses dans `shared/`, tests au plus pr√®s du code m√©tier, conventions de nommage strictes.

### IX.1. Frontend (React / Next.js)

```
/frontend
‚îÇ
‚îú‚îÄ‚îÄ public/                  # Fichiers statiques (favicon, images, robots.txt)
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ features/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ partners/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/      # Composants UI sp√©cifiques √† la feature
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/           # Hooks React sp√©cifiques √† la feature
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/        # Appels API, logique m√©tier de la feature
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/           # Pages Next.js li√©es √† la feature
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/           # Types/DTO/interfaces sp√©cifiques
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tests/           # Tests unitaires/int√©gration de la feature
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ styles/          # Styles sp√©cifiques (module.css, tailwind, etc.)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ categories/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notifications/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stats/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ shared/               # Composants, hooks, utils r√©utilisables (transverses)
‚îÇ   ‚îú‚îÄ‚îÄ layouts/              # Layouts globaux
‚îÇ   ‚îú‚îÄ‚îÄ contexts/             # Contexts React globaux
‚îÇ   ‚îú‚îÄ‚îÄ config/               # Configurations globales
‚îÇ   ‚îú‚îÄ‚îÄ middlewares/          # Middlewares Next.js
‚îÇ   ‚îî‚îÄ‚îÄ types/                # Types globaux
‚îú‚îÄ‚îÄ e2e/                      # Tests end-to-end Playwright (sc√©narios utilisateurs)
‚îÇ   ‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ fixtures/
‚îú‚îÄ‚îÄ .env.local
‚îú‚îÄ‚îÄ tailwind.config.js
‚îú‚îÄ‚îÄ next.config.js
‚îú‚îÄ‚îÄ tsconfig.json
‚îú‚îÄ‚îÄ jest.config.js
‚îú‚îÄ‚îÄ oxlint.json
‚îú‚îÄ‚îÄ .prettierrc
‚îú‚îÄ‚îÄ .prettierignore
‚îú‚îÄ‚îÄ commitlint.config.js
‚îú‚îÄ‚îÄ .husky/
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
```

### IX.2. Backend (AdonisJS)

```
/backend
‚îÇ
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ features/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ partners/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controllers/      # Contr√¥leurs HTTP de la feature
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/         # Services m√©tier de la feature
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validators/       # Validation des requ√™tes
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/           # Mod√®les ORM sp√©cifiques
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tests/            # Tests unitaires/fonctionnels de la feature
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ users/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ categories/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notifications/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stats/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ shared/                   # Middlewares, helpers, exceptions communs
‚îÇ   ‚îú‚îÄ‚îÄ contracts/                # Interfaces et types globaux
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ tests/                        # Tests globaux si besoin
‚îú‚îÄ‚îÄ e2e/                          # Tests end-to-end Playwright (API, parcours complets)
‚îÇ   ‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ fixtures/
‚îú‚îÄ‚îÄ config/
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îú‚îÄ‚îÄ migrations/
‚îÇ   ‚îú‚îÄ‚îÄ seeders/
‚îÇ   ‚îî‚îÄ‚îÄ factories/
‚îú‚îÄ‚îÄ public/
‚îú‚îÄ‚îÄ start/
‚îÇ   ‚îú‚îÄ‚îÄ routes.ts
‚îÇ   ‚îî‚îÄ‚îÄ kernel.ts
‚îú‚îÄ‚îÄ .env
‚îú‚îÄ‚îÄ ace
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tsconfig.json
‚îú‚îÄ‚îÄ jest.config.js
‚îú‚îÄ‚îÄ oxlint.json
‚îú‚îÄ‚îÄ .prettierrc
‚îú‚îÄ‚îÄ .prettierignore
‚îú‚îÄ‚îÄ commitlint.config.js
‚îú‚îÄ‚îÄ .husky/
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
```

**Bonnes pratiques :**

- Chaque feature est autonome et isol√©e, facilitant le refactoring, l‚Äôonboarding et la gestion des tests.
- Les tests (unitaires, int√©gration, E2E) sont plac√©s au plus pr√®s du code m√©tier de chaque feature.
- Les √©l√©ments transverses (UI, hooks, helpers, middlewares, types globaux) sont centralis√©s dans `shared/`.
- Les conventions de nommage, de commit et de structure restent identiques √† celles d√©finies pr√©c√©demment.
- La CI/CD, le lint, le formatage et les hooks Git s‚Äôappliquent √† l‚Äôensemble du projet, quelle que soit la structure.

---

## X. Conventions de nommage et de commits

### X.1 Conventions de nommage des commits

Pour garantir un historique Git lisible, homog√®ne et exploitable, le projet adopte la convention suivante‚ÄØ:

- **Pr√©fixe Gitmoji**‚ÄØ: chaque commit commence par un emoji Gitmoji d√©crivant le type de changement (voir https://gitmoji.dev/)
- **Pr√©fixe conventionnel**‚ÄØ: suivi d‚Äôun mot-cl√© (fix, feat, chore, docs, refactor, test, ci, style, perf, build, revert)
- **Message court et explicite**

**Exemples‚ÄØ:**

- :sparkles: feat: add partner archiving endpoint
- :bug: fix: correct partner list filter logic
- :recycle: refactor: extract user service
- :memo: docs: update API documentation
- :white_check_mark: test: add e2e test for login
- :rocket: ci: add GitHub Actions workflow for backend

**Tableau de correspondance**‚ÄØ:

| Gitmoji               | Pr√©fixe  | Description                         |
| --------------------- | -------- | ----------------------------------- |
| :sparkles:            | feat     | Nouvelle fonctionnalit√©             |
| :bug:                 | fix      | Correction de bug                   |
| :recycle:             | refactor | Refactoring (sans ajout de feature) |
| :memo:                | docs     | Documentation                       |
| :white_check_mark:    | test     | Ajout/modif de tests                |
| :rocket:              | ci       | Int√©gration continue (CI/CD)        |
| :art:                 | style    | Formatage, indentation, etc.        |
| :zap:                 | perf     | Am√©lioration de performance         |
| :package:             | build    | Build, d√©pendances, versionning     |
| :rewind:              | revert   | Annulation de commit                |
| :construction_worker: | chore    | T√¢ches annexes (config, scripts)    |

**Bonnes pratiques‚ÄØ:**

- Toujours utiliser un Gitmoji + pr√©fixe.
- R√©diger le message en anglais, √† l‚Äôimp√©ratif, court et pr√©cis.
- Utiliser Commitlint pour valider la convention.

### X.2 Conventions de nommage du code

Pour garantir la lisibilit√©, la maintenabilit√© et la coh√©rence du code sur l‚Äôensemble du projet (frontend Next.js, backend AdonisJS), appliquer les conventions suivantes‚ÄØ:

| √âl√©ment        | Convention       | Exemple                        |
| -------------- | ---------------- | ------------------------------ |
| Variable       | camelCase        | partnerList, userId            |
| Fonction       | camelCase        | getPartnerById(), fetchUsers() |
| Classe         | PascalCase       | PartnerController, UserService |
| Interface/Type | PascalCase       | PartnerDTO, UserRole           |
| Enum           | PascalCase       | PartnerStatus, UserType        |
| Fichier        | kebab-case       | partner-controller.ts          |
| Dossier        | kebab-case       | user-services/                 |
| Constante      | UPPER_SNAKE_CASE | API_URL, MAX_PARTNERS          |

**R√®gles compl√©mentaires‚ÄØ:**

- Toujours nommer en anglais (sauf exceptions m√©tiers justifi√©es).
- Les noms doivent √™tre explicites, √©viter les abr√©viations non standards.
- Les fonctions doivent √™tre des verbes ou des verbes + compl√©ment (ex‚ÄØ: fetchData, updateUserProfile).
- Les classes, types et interfaces doivent √™tre des noms ou groupes nominaux (ex‚ÄØ: PartnerController, UserDTO).
- Les fichiers et dossiers doivent √™tre en kebab-case, courts et explicites.
- Les constantes globales en UPPER_SNAKE_CASE.
- Respecter les conventions TypeScript/JavaScript de la communaut√©.

**Exemples‚ÄØ:**

```ts
// Variable
const partnerList = [];

// Fonction
function fetchPartners() { ... }

// Classe
class PartnerController { ... }

// Interface
interface PartnerDTO { ... }

// Enum
enum PartnerStatus { ACTIVE, ARCHIVED }

// Constante
const API_URL = 'https://api.example.com';
```

Ces conventions sont √† appliquer strictement sur l‚Äôensemble du code, des tests, des scripts et de la documentation technique.

---

## XI. Users stories principales du MVP

| Prio | User story (format agile) | Je veux‚Ä¶                                                                                 | Afin de ‚Ä¶                                                   | Valeur m√©tier / B√©n√©fice                                | Crit√®res d‚Äôacceptation principaux                                                                                                                                                                   | Sous-t√¢ches techniques / Points d‚Äôattention                 |
| ---- | ------------------------- | ---------------------------------------------------------------------------------------- | ----------------------------------------------------------- | ------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------- |
| 1    | Administrateur            | Cr√©er, modifier, archiver, et consulter des fiches partenaires                           | Organiser efficacement le r√©seau professionnel du cabinet   | Structuration, tra√ßabilit√©, centralisation des contacts | Saisie de tous les champs, archivage sans suppression, acc√®s √† l‚Äôhistorique des modifications, skeleton loader pour les donn√©es dynamiques, **aucune donn√©e sensible en clair, audit trail activ√©** | Validation des champs, gestion archivage, audit trail, RGPD |
| 2    | Consultant                | Rechercher et filtrer les partenaires selon diff√©rents crit√®res                          | Retrouver rapidement le bon contact                         | Gain de temps, efficacit√© op√©rationnelle                | Recherche par nom, m√©tier, entreprise, tags, notation, blacklist, r√©sultats rapides                                                                                                                 | Indexation recherche, UI/UX filtres avanc√©s                 |
| 5    | Utilisateur               | Recevoir des notifications en cas de changement de poste ou d‚Äôentreprise d‚Äôun partenaire | Maintenir √† jour mon r√©seau                                 | R√©activit√©, fiabilit√© des donn√©es                       | Notification in-app/email, lien direct vers la fiche concern√©e                                                                                                                                      | Int√©gration API LinkedIn, syst√®me de notification           |
| 6    | Utilisateur               | Acc√©der √† des actions rapides (appeler, email, LinkedIn) depuis la fiche partenaire      | Faciliter les interactions                                  | Productivit√©, simplicit√© d‚Äôusage                        | Boutons d‚Äôaction visibles, actions fonctionnelles sur mobile et desktop                                                                                                                             | UI actions rapides, responsive                              |
| 7    | Collaborateur             | Annoter, noter et blacklister un partenaire                                              | Qualifier la relation et optimiser le suivi                 | Qualit√© du r√©seau, suivi personnalis√©                   | Ajout/modif de notes, notation 1-5 √©toiles, blacklist, gestion des droits                                                                                                                           | UI notation/blacklist, gestion droits                       |
| 8    | Administrateur            | Garantir la s√©curit√© et la conformit√© RGPD des donn√©es partenaires                       | Prot√©ger les informations sensibles                         | Confiance, respect l√©gal                                | Chiffrement, droit √† l‚Äôoubli, consentement, sauvegardes automatiques                                                                                                                                | Impl√©mentation chiffrement, gestion consentement, backup    |
| 9    | Utilisateur               | B√©n√©ficier d‚Äôune interface mobile first, √©pur√©e et accessible                            | Pouvoir utiliser l‚Äôapplication en mobilit√© et sans friction | Adoption, efficacit√©, accessibilit√©                     | Respect accessibilit√©, temps de chargement < 2s, responsive design, **conformit√© WCAG, navigation clavier**                                                                                         | UI/UX mobile first, optimisation performance                |

---

## XII. Mod√©lisation UML de la base de donn√©es

La mod√©lisation de la base de donn√©es repose sur une approche relationnelle robuste, conforme aux exigences de s√©curit√©, de scalabilit√© et de conformit√© RGPD. Voici la description exhaustive‚ÄØ:

### 1. Diagramme de classes UML (notation textuelle)

```plantuml
@startuml
entity User {
  id: UUID <<PK>>
  first_name: VARCHAR(100)
  last_name: VARCHAR(100)
  email: VARCHAR(255) <<UNIQUE, NOT NULL>>
  password_hash: VARCHAR(255)
  role: ENUM('ADMIN', 'CONSULT', 'COLLAB')
  is_active: BOOLEAN (default: true)
  consent: BOOLEAN (default: false)
  created_at: TIMESTAMP
  updated_at: TIMESTAMP
}

entity Partner {
  id: UUID <<PK>>
  first_name: VARCHAR(100)
  last_name: VARCHAR(100)
  email: VARCHAR(255) <<UNIQUE>>
  phone: VARCHAR(30)
  company: VARCHAR(255)
  job_title: VARCHAR(100)
  notes: TEXT
  rating: INTEGER (1-5)
  is_blacklisted: BOOLEAN (default: false)
  is_archived: BOOLEAN (default: false)
  created_at: TIMESTAMP
  updated_at: TIMESTAMP
  created_by: UUID <<FK User>>
}

entity Classification {
  id: UUID <<PK>>
  name: VARCHAR(100)
  type: ENUM('METIER', 'SOUS_METIER', 'TAG')
  parent_id: UUID <<FK Classification>>
  created_at: TIMESTAMP
}

entity Recommendation {
  id: UUID <<PK>>
  partner_id: UUID <<FK Partner>>
  client_name: VARCHAR(255)
  date: DATE
  comment: TEXT
  created_by: UUID <<FK User>>
}

entity Notification {
  id: UUID <<PK>>
  user_id: UUID <<FK User>>
  type: VARCHAR(50)
  content: TEXT
  is_read: BOOLEAN (default: false)
  created_at: TIMESTAMP
}

entity AuditTrail {
  id: UUID <<PK>>
  user_id: UUID <<FK User>>
  action: VARCHAR(100)
  entity_type: VARCHAR(50)
  entity_id: UUID
  details: JSONB
  created_at: TIMESTAMP
}

entity PartnerRelation {
  id: UUID <<PK>>
  partner_id_1: UUID <<FK Partner>>
  partner_id_2: UUID <<FK Partner>>
  relation_type: VARCHAR(50)
  description: TEXT
  start_date: DATE
  end_date: DATE
  created_at: TIMESTAMP
  updated_at: TIMESTAMP
}

entity partner_classifications {
  partner_id: UUID <<FK Partner>>
  classification_id: UUID <<FK Classification>>
}

User ||--o{ Partner : "cr√©e"
Partner }o--o{ Classification : "class√© via partner_classifications"
Partner ||--o{ Recommendation : "re√ßoit"
User ||--o{ Notification : "re√ßoit"
User ||--o{ AuditTrail : "g√©n√®re"
Partner }o--o{ Partner : "reli√© via PartnerRelation"
@enduml
```

### 2. Description des entit√©s principales

- **User** : Utilisateur de l‚Äôapplication (admin, consultant, collaborateur). Email unique, consentement RGPD, r√¥le, statut actif.
- **Partner** : Partenaire r√©f√©renc√©. Informations de contact, statut (archiv√©, blacklist√©), rating, historique, cr√©√© par un User.
- **Classification** : Cat√©gorie, sous-cat√©gorie ou tag m√©tier. Hi√©rarchie possible via parent_id, typage par enum, jointure n,n avec Partner.
- **Recommendation** : Historique des recommandations faites par un partenaire √† un client.
- **Notification** : Alertes et notifications pour les utilisateurs.
- **AuditTrail** : Historique des actions sensibles pour la tra√ßabilit√© RGPD.
- **PartnerRelation** : Relations entre partenaires (collaboration, co-traitance, etc.).
- **partner_classifications** : Table de jointure n,n entre Partner et Classification.

### 3. D√©tail des relations et contraintes

- **User‚ÄìPartner** : 1,n (un utilisateur peut cr√©er plusieurs partenaires).
- **Partner‚ÄìClassification** : n,n via partner_classifications (un partenaire peut avoir plusieurs classifications et inversement).
- **Partner‚ÄìRecommendation** : 1,n (un partenaire re√ßoit plusieurs recommandations).
- **User‚ÄìNotification** : 1,n (un utilisateur re√ßoit plusieurs notifications).
- **User‚ÄìAuditTrail** : 1,n (un utilisateur g√©n√®re plusieurs entr√©es d‚Äôaudit).
- **Partner‚ÄìPartner** : n,n via PartnerRelation (relations multiples entre partenaires).
- **Contraintes d‚Äôint√©grit√©** :
  - Unicit√© sur email (User, Partner)
  - Suppression en cascade d√©sactiv√©e (archivage logique)
  - Historisation de toutes les actions sensibles (AuditTrail)
  - Chiffrement des donn√©es sensibles c√¥t√© application
  - Consentement RGPD stock√© dans User

### 4. Points cl√©s pour la s√©curit√©, la conformit√© RGPD, la scalabilit√© et l‚Äô√©volutivit√©

- **S√©curit√©** : UUID pour toutes les PK, chiffrement des donn√©es sensibles, audit trail, gestion des acc√®s par r√¥le.
- **RGPD** : Consentement explicite, droit √† l‚Äôoubli (archivage logique), audit des acc√®s et modifications.
- **Scalabilit√©** : Index sur les champs de recherche, tables de jointure pour flexibilit√©, architecture modulaire.
- **√âvolutivit√©** : Enum pour les r√¥les, relations n,n, ajout facile de nouvelles entit√©s ou attributs.
